<h3> Finalize registration process </h3>

#if(!$status1 || $status1.booleanValue() == false || !$status2 || $status2.booleanValue() == false || !$status3 || $status3.booleanValue() == false)
#if(!$status1 || $status1.booleanValue() == false )
<strong>You have not completed stage 1 of this process</strong>, please <a href="registerservice.htm">complete stage 1</a>
<br/>
#end
#if(!$status2 || $status2.booleanValue() == false )
<strong>You have not completed stage 2 of this process</strong>, please <a href="registerservice-stage2.htm">complete stage 2</a>
<br/>
#end
#if(!$status3 || $status3.booleanValue() == false )
<strong>You have not completed stage 3 of this process</strong>, please <a href="registerservice-stage3.htm">complete stage 3</a>
<br/>
#end
#else

You have submitted the following data

<div id="serviceDetails">
<table>
<tr>
<td><strong>Service Name</strong></td><td><strong>Service URL</strong></td>
</tr>
<tr>
<td>$serviceName</td><td>$serviceURL</td>
</tr>
</table>
</div>

<div id="contactPersons">
#if($contacts)
#if($contacts.size() > 0)
<br/>
You have added the following contacts for this service
<br/>
<table>
<tr>
<td><b>Name</b></td><td><b>Email</b></td><td><b>Type</b></td>
</tr>
#foreach( $contact in $contacts )
<tr>
<td>$contact.getGivenName() $contact.getSurName()</td>
<td>$contact.getEmailAddress()</td>
<td>$contact.getContactType()</td>
<td><a href="registerservice-stage2.htm?action=edit&ref=$velocityCount">edit</a></td>
<td><a href="registerservice-stage2.htm?action=delete&ref=$velocityCount">delete</a></td>
</tr>
#end
</table>
#end
#end
</div>

<div id="serviceNodes">
#if($serviceNodes)
#if($serviceNodes.size() > 0)
<br/>
You have added the following nodes for this service
<br/>
<table>
<tr>
<td><b>Base Node URL</b></td><td><b>Assertion Consumer Service</b></td><td><b>Single Logout Service</b></td><td><b>Cache Clear Service</b></td><td/><td/>
</tr>
<tr>
#foreach( $node in $serviceNodes )
<td>$node.getNodeURL()</td>
<td>$node.getAssertionConsumerService()</td>
<td>$node.getSingleLogoutService()</td>
<td>$node.getCacheClearService()</td>
<td><a href="registerservice-stage3.htm?action=edit&ref=$velocityCount">edit</a></td>
<td><a href="registerservice-stage3.htm?action=delete&ref=$velocityCount">delete</a></td>
</tr>
#end
</table>
#end
#end
</div>

<div id="navigation">
If this is correct click complete, or click edit on section with problems.
$navigation
</div>
#end